<!DOCTYPE html>

<html>
  <head>
    <meta charset=utf-8 />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nutty Arcade</title>

    <script type="text/javascript">
        function testConnection() {
            var test = document.getElementById('test').value;
            var url = "http://127.0.0.1:5000/getGameState?ID=" + test;
            console.log(url)
            fetch(url )
            .then((response) => {
                return response.json();
            })
            .then((myJson) => {
                document.getElementById("result").innerHTML = "I get: " + myJson.hand;
            }).catch((error) => {
                document.getElementById("result").innerHTML = "Error when adding. Flask server isn't running?";
            });
        }


        function initApp() {
            document.getElementById('test_button').addEventListener('click', testConnection, false);
        }

        window.onload = function() {
            initApp();
        };
    </script>
  </head>
  <body>
  <div>

    <main>
      <div>
        <!-- Container for the demo -->
	    <p>Testing Flask backend</p>
	    <!-- <input class="mdl-textfield__input" style="display:inline;width:auto;" type="number" id="first" name="first" placeholder="first"/> -->
	    <input class="mdl-textfield__input" style="display:inline;width:auto;" type="number" id="test" name="test" placeholder="second"/>
	    <button class="mdl-button mdl-js-button mdl-button--raised" id="test_button" name="add-nums">Request</button>
        <p id="result"></p>
        </div>
      </div>
    </main>
  </div>
  </body>
</html>

